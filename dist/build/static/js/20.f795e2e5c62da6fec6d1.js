webpackJsonp([20],{574:function(e,t,n){var i=n(32)(n(950),n(863),null,null);e.exports=i.exports},754:function(e,t,n){t=e.exports=n(536)(!1),t.push([e.i,'.autoTbale{overflow:auto}.department table{width:100%;border-spacing:0;border-collapse:collapse}.department .table-bordered{border:1px solid #ddd}.department .table>thead>tr>th{text-align:center}.department .table>tbody>tr>td,.department .table>tbody>tr>th,.department .table>thead>tr>td,.department .table>thead>tr>th{border-top:1px solid #e7eaec;line-height:1.42857;padding:8px;vertical-align:middle}.department .table-bordered>tbody>tr{height:50px}.department .table-bordered>tbody>tr:hover{background:#ffb}.department .table-bordered>tbody>tr>td,.department .table-bordered>tbody>tr>th,.department .table-bordered>tfoot>tr>td,.department .table-bordered>tfoot>tr>th,.department .table-bordered>thead>tr>td,.department .table-bordered>thead>tr>th{border:1px solid #ddd}.department .table>thead>tr>th{border-bottom:1px solid #ddd}.department .table-bordered>thead>tr>td,.department .table-bordered>thead>tr>th{background-color:#f5f5f6}.department #hl-tree-table>tbody>.isDisable{color:#ccc}.department #hl-tree-table>tbody>.isDisable:hover{background:#fff}.department label{margin:0}.department .ms-tree-space{position:relative;top:1px;display:inline-block;font-style:normal;font-weight:400;line-height:1;width:15px;height:14px}.department .ms-tree-space:before{content:""}.department #hl-tree-table th>label{margin:0 4px}.department .taggolIcon{display:inline-block;width:13px;height:13px;font-size:12px;text-align:center;line-height:10px;border:1px solid #666;font-style:normal}.department .noborder{border-color:transparent}.department .textIcon{display:inline-block;padding:0 5px;font-size:16px}.department .actions{text-align:center;min-width:147px;color:#5a82be}.department .actions span{cursor:pointer;line-height:20px}.department .actions span:hover{text-decoration:underline}.department .actionsDisable{color:#ccc}',""])},755:function(e,t,n){n(757);var i=n(32)(n(758),n(756),null,null);e.exports=i.exports},756:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autoTbale department",style:{width:e.tableWidth}},[n("table",{staticClass:"table table-bordered",attrs:{id:"hl-tree-table"}},[n("thead",[n("tr",[e._l(e.cloneColumns,function(t,i){return n("th",{key:i},[n("label",[e._v("\n            "+e._s(e.renderHeader(t,i))+"\n          ")])])}),e._v(" "),n("th",[e._v("操作")])],2)]),e._v(" "),n("tbody",e._l(e.initItems,function(t,i){return n("tr",{directives:[{name:"show",rawName:"v-show",value:e.show(t),expression:"show(item)"}],key:i,class:{"child-tr":t.parent,isDisable:1!=t.status}},[e._l(e.columns,function(a,o){return n("td",{key:a.key,style:e.tdStyle(a)},[n("label",{on:{click:function(n){e.toggle(i,t)}}},[o==e.iconRow()?n("span",[n("i",{domProps:{innerHTML:e._s(t.spaceHtml)}}),e._v(" "),t.children&&t.children.length>0?n("i",{staticClass:"taggolIcon"},[e._v("\n                "+e._s(t.expanded?"-":"+")+"\n              ")]):n("i",{staticClass:"taggolIcon noborder"})]):e._e(),e._v(" "),0==o?n("span",[0==i?n("i",{staticClass:"iconfont textIcon"},[e._v("")]):n("i",{staticClass:"iconfont textIcon"},[e._v(e._s("1"==t.tree_type?"":""))])]):e._e(),e._v("\n            "+e._s(e.renderBody(t,a))+"\n          ")])])}),e._v(" "),n("td",{staticClass:"actions",class:{actionsDisable:!1}},[e._t("operations",[n("span",[e._v("编辑")]),e._v(" "),n("span",[e._v("删除")]),e._v(" "),n("span",[e._v("禁用")])],{item:t})],2)],2)}))])])},staticRenderFns:[]}},757:function(e,t,n){var i=n(754);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(537)("11a61ec1",i,!0)},758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(92),a=n.n(i);t.default={name:"treeGrid",props:{columns:Array,items:{type:Array,default:function(){return[]}}},data:function(){return{initItems:[],cloneColumns:[],screenWidth:document.body.clientWidth,tdsWidth:0,timer:!1,dataLength:0}},computed:{tableWidth:function(){return this.tdsWidth>this.screenWidth&&this.screenWidth>0?this.screenWidth+"px":"100%"}},watch:{screenWidth:function(e){var t=this;this.timer||(this.screenWidth=e,this.timer=!0,setTimeout(function(){t.timer=!1},400))},items:function(){this.items&&(this.dataLength=this.Length(this.items),this.initData(this.deepCopy(this.items),1,null))},columns:{handler:function(){this.cloneColumns=this.makeColumns()},deep:!0}},mounted:function(){var e=this;this.items&&(this.dataLength=this.Length(this.items),this.initData(this.deepCopy(this.items),1,null),this.cloneColumns=this.makeColumns()),this.$nextTick(function(){e.screenWidth=document.body.clientWidth}),window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,e.screenWidth=window.screenWidth}()}},methods:{iconRow:function(){for(var e=0,t=this.columns.length;e<t;e++)if("selection"===this.columns[e].type)return 1;return 0},tdStyle:function(e){var t={};return e.align&&(t["text-align"]=e.align),e.width&&(t["min-width"]=e.width+"px"),t},makeColumns:function(){var e=this,t=this.deepCopy(this.columns);return this.tdsWidth=0,t.forEach(function(t,n){t._index=n,t._width=t.width?t.width:"",t._sortType="normal",e.tdsWidth+=t.width?parseFloat(t.width):0}),t},initData:function(e,t,n){var i=this;this.initItems=[];for(var o="",r=1;r<t;r++)o+='<i class="ms-tree-space"></i>';e.forEach(function(e,r){e=a()({},e,{parent:n,level:t,spaceHtml:o}),void 0===e.expanded&&(e=a()({},e,{expanded:!1})),void 0===e.show&&(e=a()({},e,{isShow:!1})),e=a()({},e,{load:!!e.expanded}),i.initItems.push(e),e.children&&e.expanded&&i.initData(e.children,t+1,e)})},show:function(e){return 1===e.level||e.parent&&e.parent.expanded&&e.isShow},toggle:function(e,t){for(var n=this,i=t.level+1,a="",o=1;o<i;o++)a+='<i class="ms-tree-space"></i>';t.children&&(t.expanded?(t.expanded=!t.expanded,this.close(e,t)):(t.expanded=!t.expanded,t.load?this.open(e,t):(t.load=!0,t.children.forEach(function(o,r){n.initItems.splice(e+r+1,0,o),n.$set(n.initItems[e+r+1],"parent",t),n.$set(n.initItems[e+r+1],"level",i),n.$set(n.initItems[e+r+1],"spaceHtml",a),n.$set(n.initItems[e+r+1],"isShow",!0),n.$set(n.initItems[e+r+1],"expanded",!1)}))))},open:function(e,t){var n=this;t.children&&t.children.forEach(function(t,i){t.isShow=!0,t.children&&t.expanded&&n.open(e+i+1,t)})},close:function(e,t){var n=this;t.children&&t.children.forEach(function(t,i){t.isShow=!1,t.expanded=!1,t.children&&n.close(e+i+1,t)})},initToggle:function(){this.toggle(0,this.initItems[0])},Length:function(e){var t=this,n=e.length;return e.forEach(function(e){e.children&&(n+=t.Length(e.children))}),n},renderHeader:function(e,t){return"renderHeader"in this.columns[t]?this.columns[t].renderHeader(e,t):e.title||"#"},renderBody:function(e,t,n){var i=t.key;if(/:/.test(i)){i=i.split(":")[e.tree_type-1],i=i.trim()}return"status"===i?"1"===e[i]||1===e[i]?"启用":"禁用":"tree_type"===i?"1"===e[i]||1===e[i]?"组织":"部门":e[i]},deepCopy:function(e){var t=this.type(e),n=null,i=null,a=null;if("array"===t)n=[];else{if("object"!==t)return e;n={}}if("array"===t){for(i=0,a=e.length;i<a;i++)n.push(this.deepCopy(e[i]));return n}if("object"===t){for(i in e)n[i]=this.deepCopy(e[i]);return n}},type:function(e){var t=Object.prototype.toString;return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[t.call(e)]}},beforeDestroy:function(){window.onresize=null}}},863:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sub-page-wrap"},[n("tree-grid",{attrs:{items:e.data,columns:e.columns},scopedSlots:e._u([{key:"operations",fn:function(t){return[n("span",{on:{click:function(n){e.edit(t.item)}}},[e._v("编辑")]),e._v(" "),n("span",{on:{click:function(n){e.remove(t.item)}}},[e._v("删除")]),e._v(" "),n("span",{on:{click:function(n){e.toForbid(t.item)}}},[e._v("禁用")]),e._v(" "),n("span",{on:{click:function(n){e.band(t.item)}}},[e._v("银行")]),n("br"),e._v(" "),n("span",{on:{click:function(n){e.addOrganization(t.item)}}},[e._v("新增组织")]),e._v(" "),n("span",{on:{click:function(n){e.addDepatment(t.item)}}},[e._v("新增部门")])]}}])})],1)},staticRenderFns:[]}},950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(755),a=n.n(i);t.default={data:function(){return{columns:[{title:"组织/部门名称",key:"department",width:"264"},{title:"编码",key:"code",width:"110"},{title:"简称",key:"easyName",width:"208"},{title:"类型",key:"type",width:"110"},{title:"法人/负责人",key:"head",width:"124"},{title:"状态",key:"status",width:"82"}],data:[{department:"河南邦元保值公司",code:"0001",type:"组织",status:"启用",head:"张三",easyName:"河南邦公司",children:[{department:"总经办",code:"00012",type:"组织",status:"启用",head:"张三",easyName:"河南邦公司"},{department:"深圳子公司",code:"123",type:"组织",status:"启用",head:"张三",easyName:"深圳子公司",children:[{department:"水贝直营店",code:"0012301",type:"组织",status:"启用",head:"张三",easyName:"水贝直营店",children:[{department:"白石洲专营店给",code:"123132",type:"部门",status:"启用",head:"张三",easyName:"白石洲专营店给",disabled:!0},{department:"西乡加盟店",code:"3321",type:"部门",status:"启用",head:"张三",easyName:"西乡加盟店"}]},{department:"河南邦元保值公司",code:"0001",type:"部门",status:"启用",head:"张三",easyName:"河南邦公司"}]},{department:"河南邦元保值公司",code:"0001",type:"部门",status:"启用",head:"张三",easyName:"河南邦公司"},{department:"河南邦元保值公司",code:"0001",type:"部门",status:"启用",head:"张三",easyName:"河南邦公司"}]}]}},components:{TreeGrid:a.a},methods:{edit:function(e){e.disabled||console.log(e)},remove:function(e){e.disabled||console.log(e)},toForbid:function(e){e.disabled||console.log(e)},band:function(e){e.disabled||console.log(e)},addOrganization:function(e){e.disabled||console.log(e)},addDepatment:function(e){e.disabled||console.log(e)}}}}});